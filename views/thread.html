<!doctype html>
<html ng-app="app">
<head>
  <title>Lazy BBS</title>
  <link rel="stylesheet" href="./public/bootstrap.css">
  <link rel="stylesheet" href="./public/style.css">
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.0.6/angular.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.0.6/angular-resource.min.js"></script>
  <script> window.initdata = { posts: [
    {% for post in posts %}
    {user: '{{ post.user }}',
      age: '{{ post.age }}',
      body: '{{ post.body }}' } {% if loop.revindex0 > 0 %},{% endif %}
    {% endfor %} ],
    threadId: "{{ threadId }}" } ;</script>
  <script src="./public/thread.js"></script>
</head>
<body>
  <div class='container' ng-controller="threadCtrl">
    <h3 class="threadtitle text-center" >{{ thread.title }}</h3>
    <div id='add'>
      <form ng-submit="addPost()" class="form-horizontal">
        <div class="control-group">
          <label class="control-label primary-red">Username</label><div class="controls"><input type="text" ng-model="postUser"></div>
        </div>
        <div class="control-group">
          <label class="control-label">Post Body</label>
          <div class="controls"><textarea class="bodyin" rows="5" ng-model="postBody"></textarea></div>
        </div>
        <div class="control-group">
          <div class="controls"><button class="btn" type="submit">Post</button></div>
        </div>
      </form>
    </div>
      <div class='post' ng-repeat="post in posts | orderBy:orderProp ">
        <div class='head'><span class="giragira">User</span>:[[post.user]]<span class='smallspace'></span> <span class="unimportant">Timestamp</span>:[[post.age]]</div>
        <div class='body'><p>[[post.body]]</p></div>
      </div>
  </div>
</body>
</html>
